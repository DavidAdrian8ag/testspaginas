<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
   <title>Suertudota</title>

   <link rel="stylesheet" href="https://public.codepenassets.com/css/normalize-5.0.0.min.css">
   <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
   <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Berkshire+Swash'>
   <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Rajdhani:400,700'>
   <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=League+Script'>
   <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Lilita+One'>
   <link rel="icon" href="ruleta.ico" type="image/x-icon">

   <style>
      body {
         background-color: #4e4d4a;
         width: 100vw;
         height: 100vh;
         margin: 0;
         overflow-x: hidden;
      }

      .wish {
         text-align: center;
         margin: 0;
         padding: 25px;
         font-family: "Rajdhani", sans-serif;
         text-transform: uppercase;
         font-size: 60px;
         font-weight: bold;
         color: #5a6b65;
         background-color: #FFE5D9;
      }

      .container {
         margin: 0 auto 50px;
         width: 400px;
         height: 100%;
         display: flex;
         flex-direction: column;
         align-items: center;
      }

      /* üëâ WRAPPER DE ESCALA */
      .wheel-scale {
         transform-origin: top center;
      }

      .arrow {
         width: 90px;
         height: 20px;
         background-color: #FFE5D9;
         margin: auto;
         margin-bottom: 30px;
         position: relative;
      }

      .arrow:after {
         content: "";
         width: 0;
         height: 0;
         border-style: solid;
         border-width: 30px 55px 0;
         border-color: #FFE5D9 transparent;
         position: absolute;
         top: 20px;
         left: -10px;
      }

      .wheel {
         width: 400px;
         height: 400px;
         border-radius: 50%;
         position: relative;
         overflow: hidden;
      }

      .inner-wheel {
         border-radius: 50%;
         width: 400px;
         height: 400px;
         position: relative;
         overflow: hidden;
         transition: transform 3.5s cubic-bezier(0.33, 1, 0.68, 1);
         transform: rotate(0deg);
      }

      .spin-button {
         position: absolute;
         width: 60px;
         height: 60px;
         background-color: #373B44;
         border-radius: 50%;
         top: calc(50% - 30px);
         left: calc(50% - 30px);
         z-index: 10;
         cursor: pointer;
      }

      .spin-button:after {
         content: "Girar";
         position: absolute;
         top: 22px;
         left: 10px;
         color: white;
      }

      .section {
         position: absolute;
         width: 0;
         height: 0;
         border-style: solid;
         border-width: 200px 116px 0;
         left: 84px;
         top: 0;
         transform-origin: 116px 200px;
         border-color: #5a6b65 transparent;
      }

      .section:nth-child(2) { transform: rotate(60deg); border-color: #c9b7b0 transparent; }
      .section:nth-child(3) { transform: rotate(120deg); border-color: #5a6b65 transparent; }
      .section:nth-child(4) { transform: rotate(180deg); border-color: #d5a5a0 transparent; }
      .section:nth-child(5) { transform: rotate(240deg); border-color: #c9b1b2 transparent; }
      .section:nth-child(6) { transform: rotate(300deg); border-color: #BD9391 transparent; }

      span {
         position: relative;
         display: inline-block;
         margin-left: -67px;
         top: -185px;
         font-family: "Rajdhani", sans-serif;
      }

      .fa {
         font-size: 70px;
         margin-left: -35px;
         top: -155px;
      }

      .winner-box {
         display: none;
         text-align: center;
         background-color: #FFE5D9;
         color: #373B44;
         font-family: "Rajdhani", sans-serif;
         border-radius: 12px;
         padding: 20px;
         width: 280px;
         margin: 30px auto 0;
      }

      .winner-box h2 {
         margin: 0;
         font-size: 20px;
      }

      .winner-box a {
         display: inline-block;
         margin-top: 15px;
         padding: 10px 20px;
         background-color: #373B44;
         color: #fff;
         border-radius: 8px;
         text-decoration: none;
         font-size: 55px;
      }

      /* üì± iPhone */
      @media (max-width: 480px) {
         .wish { font-size: 36px; padding: 15px; }

         .wheel-scale { transform: scale(0.75); }

         .fa { font-size: 40px; }

         .winner-box h2 { font-size: 16px; }

         .winner-box a { font-size: 30px; }
      }
   </style>
</head>

<body>

   <h1 class="wish">- Toma tu Premio -</h1>

   <div class="container">
      <div class="wheel-scale">
         <div class="arrow"></div>

         <div class="wheel">
            <div class="inner-wheel" id="wheel">
               <div class="section"><span class="fa fa-money"></span></div>
               <div class="section"><span class="fa fa-cutlery"></span></div>
               <div class="section"><span class="fa fa-heart"></span></div>
               <div class="section"><span class="fa fa-plane"></span></div>
               <div class="section"><span class="fa fa-gift"></span></div>
               <div class="section"><span class="fa fa-sun-o"></span></div>
            </div>
            <div class="spin-button"></div>
         </div>
      </div>

      <div class="winner-box" id="winnerBox">
         <h2 id="winnerText"></h2>
         <a id="winnerLink" href="./regalo.html" target="_self" style="display:none;">Ganaste:</a>
      </div>
   </div>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
   <script>
      $(document).ready(function () {
         let spins = 0;
         const sections = ["Dinero", "Cena", "Besos", "Viaje", "Sorpresa", "Playa"];

         $('.spin-button').click(function () {
            $('#winnerBox').hide();
            spins++;
            const randDegree = Math.floor(Math.random() * 1800) + 1;
            const totalDegree = spins * 1800 + randDegree;
            $('#wheel').css({ 'transform': 'rotate(' + totalDegree + 'deg)' });

            setTimeout(function () {
               const finalRotation = totalDegree % 360;
               const sectionAngle = 60;
               const index = Math.floor(((360 - finalRotation + sectionAngle / 2) % 360) / sectionAngle);
               const result = sections[index];

               let message = "";
               let showLink = false;

               switch (result) {
                  case "Dinero": message = "üí∏ Yo s√© que no eres materialista, as√≠ que te dar√© otra oportunidad..."; break;
                  case "Cena": message = "üçΩÔ∏è Cena ganada, luego vamos por tacos, pero puedes ganar algo mejor..."; break;
                  case "Besos": message = "üòò Besos y abrazos estar√°n siempre garantizados, gira de nuevo..."; break;
                  case "Viaje": message = "‚úàÔ∏è Viajaremos siempre mucho, pero hay algo mejor esper√°ndote..."; break;
                  case "Playa": message = "üèñÔ∏è Iremos a la playa, est√° cerca, se que quieres algo mejor..."; break;
                  case "Sorpresa": message = "‚ù§Ô∏è ¬°Ganaste una sorpresa especial!"; showLink = true; break;
               }

               $('#winnerText').html(message);
               showLink ? $('#winnerLink').show() : $('#winnerLink').hide();
               $('#winnerBox').fadeIn();
            }, 3500);
         });
      });
   </script>

</body>
</html>
