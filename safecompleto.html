<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <title>Â¿Sabes de mi?</title>
   <script src="https://public.codepenassets.com/js/prefixfree-1.0.7.min.js"></script>
   <style>
      @import url("https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Rock+Salt&display=swap");

      :root {
         --scroll: 0;
      }

      body {
         margin: 0;
         display: flex;
         flex-direction: column;
         overflow-x: hidden;
         background-color: #444;
      }

      main {
         height: 100vh;
      }

      .r {
         min-height: 10000px;
      }

      .safe {
         top: 0;
         bottom: 0;
         width: 100vw;
         height: 100vh;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         background-color: #444;
         z-index: 2;
      }

      .safe h1 {
         font-family: "Rock Salt";
         color: white;
      }

      .safe p {
         font-size: 0.9em;
         line-height: 1.5em;
         font-family: "Rock Salt";
         max-width: 250px;
         text-align: justify;
         color: white;
      }

      .box {
         width: 250px;
         height: 250px;
         display: flex;
         align-items: center;
         justify-content: center;
         transform: rotate(calc(var(--scroll) * 0.08deg));
         transform-origin: center;
      }

      .innerdial {
         position: absolute;
         top: 0;
         left: 0;
         width: 250px;
         height: 250px;
         z-index: 2;
         background-color: silver;
         border: 1px solid black;
         border-radius: 50%;
      }

      .mark {
         position: absolute;
         top: 122px;
         left: 115px;
         width: 20px;
         height: 6px;
         background-color: grey;
         border: 1px solid black;
         transform-origin: 10px 3px;
      }

      .center {
         position: absolute;
         top: 50px;
         left: 50px;
         width: 150px;
         height: 150px;
         border-radius: 50%;
         background-color: grey;
         border: 1px solid black;
      }

      .start {
         position: absolute;
         top: 70px;
         left: 65px;
         width: 20px;
         height: 10px;
         background-color: white;
         transform: rotate(-90deg) translateX(60px);
      }

      .position {
         position: relative;
         margin-top: 5px;
         text-align: center;
         padding: 3px;
         min-width: 24px;
         border: 1px solid black;
         background-color: #fff;
         font-family: monospace;
         color: #888;
      }

      .box-flash {
         position: absolute;
         top: 0;
         left: 0;
         width: 250px;
         height: 250px;
         background-color: silver;
         border-radius: 50%;
         opacity: 0.9;
         z-index: -1;
      }

      .click {
         animation: click 0.2s 1;
      }

      .near {
         animation: near 0.2s 1;
      }

      .off {
         animation: off 0.2s 1;
      }

      @keyframes click {
         0% {
            background-color: pink;
            transform: scale(1);
            opacity: 1;
         }

         100% {
            background-color: pink;
            transform: scale(1.5);
            opacity: 0;
         }
      }

      @keyframes near {
         0% {
            background-color: lightcoral;
            transform: scale(1);
            opacity: 0.6;
         }

         100% {
            background-color: lightcoral;
            transform: scale(1.3);
            opacity: 0;
         }
      }

      @keyframes off {
         0% {
            opacity: 0.3;
         }

         100% {
            opacity: 0;
         }
      }

      .chalkboard {
         position: absolute;
         left: 15vw;
         top: 50vh;
         padding: 20px;
         font-size: 4em;
         font-family: "Homemade Apple";
         transform: rotate(15deg);
         color: #fff;
         white-space: pre;
         line-height: 1em;
      }

      .hint {
         position: absolute;
         right: 20px;
         bottom: 20px;
         padding: 20px;
         font-family: "Homemade Apple";
         transform: rotate(-15deg);
         white-space: pre;
         line-height: 1em;
         color: #393939;
      }

      body.dial .safe {
         position: fixed;
      }

      body.handle main {
         overflow: hidden;
      }

      body.handle .safe {
         position: initial;
      }

      /* ðŸŒˆ Pantalla final */
      .celebration {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100vw;
         height: 100vh;
         background: linear-gradient(120deg, #ffcce7, #ffe0f7, #fff6e5, #e3f2fd, #fde2ff);
         background-size: 400% 400%;
         animation: rainbowFlow 10s ease infinite;
         z-index: 999;
         justify-content: center;
         align-items: center;
         flex-direction: column;
         overflow: hidden;
      }

      @keyframes rainbowFlow {
         0% {
            background-position: 0% 50%;
         }

         50% {
            background-position: 100% 50%;
         }

         100% {
            background-position: 0% 50%;
         }
      }

      .celebration h1 {
         font-family: "Homemade Apple";
         font-size: 4em;
         color: #ff66b3;
         text-shadow: 0 0 10px white, 0 0 20px #ffccf2;
         text-align: center;
         margin-bottom: 50px;
         animation: glow 3s ease-in-out infinite alternate;
      }

      @keyframes glow {
         from {
            text-shadow: 0 0 10px #ffb3da, 0 0 20px #fff;
         }

         to {
            text-shadow: 0 0 20px #ff80c0, 0 0 40px #ffe6f7;
         }
      }

      .rainbow-button {
         font-family: "Rock Salt";
         font-size: 2em;
         padding: 20px 50px;
         border: none;
         border-radius: 40px;
         color: white;
         background: linear-gradient(90deg, #ff69b4, #ffb6c1, #ffcccb, #ffd1dc);
         cursor: pointer;
         box-shadow: 0 0 20px rgba(255, 182, 193, 0.7);
         transition: transform 0.3s ease, box-shadow 0.3s ease;
         animation: float 2s ease-in-out infinite alternate;
      }

      .rainbow-button:hover {
         transform: scale(1.1);
         box-shadow: 0 0 40px rgba(255, 192, 203, 1);
      }

      @keyframes float {
         from {
            transform: translateY(0);
         }

         to {
            transform: translateY(-10px);
         }
      }

      .confetti {
         position: absolute;
         width: 10px;
         height: 10px;
         background: hsl(var(--hue), 80%, 80%);
         top: -10px;
         animation: fall 3s linear infinite;
         border-radius: 2px;
         opacity: 0.9;
      }

      @keyframes fall {
         0% {
            transform: translateY(0) rotate(0deg);
            opacity: 1;
         }

         100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
         }
      }
   </style>
</head>

<body class="dial">
   <main>
      <div class="r">
         <div class="safe">
            <h1>Resuelve el cÃ³digo</h1>
            <div class="box">
               <div class="innerdial"></div>
               <div class="box-flash"></div>
            </div>
            <div class="position">0</div>
            <p>Gira para encontrar la combinaciÃ³n. Detente en el nÃºmero correcto.</p>
            <p>Â¿QuÃ© tanto sabes de mi?</p>
            <p>Calzo del ...</p>
            <p>Â¿Mi aÃ±o nacimiento?</p>
            <p>AÃ±o que Bluchino fue adoptado</p>
            <p>Modelo de mi iphone</p>
            <p>AÃ±o que viajÃ³ marty al futuro</p>
            <div class="chalkboard"></div>
            <div class="hint">
            </div>
         </div>
      </div>
   </main>

   <!-- ðŸŒˆ Pantalla final -->
   <div class="celebration" id="celebration">
      <h1>ðŸŒˆ Â¡Has llegado al final del arcoÃ­ris! <br> y a darle color a mi vida ðŸŒˆ</h1>
      <button class="rainbow-button" onclick="window.location.href='papeles.html'">Â¡Sigamos!</button>
   </div>

</body>
<!-- partial -->
<script>
   const innerDial = document.querySelector(".innerdial");
   for (let i = 0; i <div 16; i++) {
      const mark = document.createElement("div");
      mark.classList.add("mark");
      mark.style.transform = `rotate(${i * 22.5}deg) translateX(100px)`;
      innerDial.appendChild(mark);
   }
   innerDial.innerHTML += '<div class="center"><div class="start"></div></div>';

   const combination = [7, 84, 20, 11, 15];
   const pageHeight = window.innerHeight;
   let pos = 0, pSafePost = 0, cracked = false, win = false, timer;

   const root = document.documentElement;
   const body = document.body;
   const position = document.querySelector(".position");
   const chalkboard = document.querySelector(".chalkboard");
   const boxFlash = document.querySelector(".box-flash");
   const celebration = document.getElementById("celebration");

   function createConfetti() {
      const confetti = document.createElement("div");
      confetti.classList.add("confetti");
      confetti.style.left = Math.random() * 100 + "vw";
      confetti.style.setProperty("--hue", Math.random() * 360);
      confetti.style.animationDuration = 2 + Math.random() * 3 + "s";
      celebration.appendChild(confetti);
      setTimeout(() => confetti.remove(), 5000);
   }

   function startInfiniteConfetti() {
      setInterval(() => {
         for (let i = 0; i < 8; i++) createConfetti();
      }, 300);
   }

   window.addEventListener("scroll", () => {
      root.style.setProperty("--scroll", window.scrollY);
      const safePos = Math.floor(window.scrollY / (10000 - pageHeight) * 100);
      position.innerText = safePos;

      if (timer) clearTimeout(timer);

      timer = setTimeout(() => {
         if (safePos === pSafePost) return;
         boxFlash.classList.remove("click", "near", "off");
         if (safePos && combination[pos] === safePos) {
            void boxFlash.offsetWidth;
            boxFlash.classList.add("click");
            chalkboard.innerText = chalkboard.innerText + safePos + "\n";
            if (++pos === combination.length) cracked = true;
         } else if (safePos && Math.abs(combination[pos] - safePos) < 3) {
            void boxFlash.offsetWidth;
            boxFlash.classList.add("near");
         } else {
            void boxFlash.offsetWidth;
            boxFlash.classList.add("off");
         }
         pSafePost = safePos;
      }, 100);

      if (cracked && !win) {
         win = true;
         setTimeout(() => {
            celebration.style.display = "flex";
            startInfiniteConfetti();
         }, 800);
      }
   });
</script>

</body>

</html>